{% extends "base.html" %}
{% block title %}Books{% endblock %}

{% block content %}
<h2 class="mb-4">Books</h2>

{% if books %}
<div class="table-responsive">
    <table class="table table-striped table-hover align-middle">
        <thead class="table-dark">
        <tr>
            <th>#</th>
            <th>Title</th>
            <th>Author</th>
            <th>Published</th>
            <th>Reviews</th>
        </tr>
        </thead>
        <tbody>
        {% for book in books %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ book.title }}</td>
            <td>{{ book.author.name }}</td>
            <td>
                {% if book.published_at %}
                {{ book.published_at }}
                {% else %}
                <span class="text-muted">—</span>
                {% endif %}
            </td>
            <td>{{ book.reviews.count }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="alert alert-info">
    No books in the database.
</div>
{% endif %}

<a href="/" class="btn btn-link mt-3">← Back</a>
{% endblock %}
